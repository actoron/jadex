<!-- The simulation startup -->

<applicationtype xmlns="http://jadex.sourceforge.net/jadex-application"
	xmlns:env="http://jadex.sourceforge.net/jadex-envspace" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex-application 
	                    http://jadex.sourceforge.net/jadex-application-2.0.xsd
	                    http://jadex.sourceforge.net/jadex-envspace 
	                    http://jadex.sourceforge.net/jadex-envspace-2.0.xsd"
	name="Simulation2" package="sodekovs.bikesharing.datenkonvertierung">

	<imports>
		<import>jadex.application.space.envsupport.environment.space2d.*</import>
		<import>jadex.application.space.envsupport.environment.space2d.Grid2D</import>
		<import>jadex.application.space.envsupport.environment.RoundBasedExecutor</import>
		<import>jadex.application.space.envsupport.math.Vector2Int</import>
		<import>jadex.application.space.envsupport.math.IVector3</import>
		<import>jadex.application.space.envsupport.math.Vector2Double</import>
		<import>jadex.application.space.envsupport.dataview.*</import>
		<import>jadex.application.space.envsupport.observer.perspective.*</import>
		<import>sodekovs.bikesharing.container.Weg</import>
		<import>java.awt.Color</import>
		<import>jadex.application.space.envsupport.evaluation.CSVFileDataConsumer</import>
		<import>sodekovs.bikesharing.fahrrad.FahrradVerleihStation</import>
	</imports>

	<spacetypes>
		<env:envspacetype name="GeneralSimulation" width="1" height="1" class="Grid2D">

			<env:processtypes>
				<env:processtype name="init" class="StartSimulationProzess" />
			</env:processtypes>

			<!-- Entwurfsentscheidung: Verkehrsmittel haben die Eigenschaft, ob sie 
				gerade offen sind, und ihre Linie. Alle anderen Eigenschaften (naechstes 
				Ziel, ..) sind nicht öffentlich und somit nicht für andere einsehbar -->
			<env:objecttypes>
				<env:objecttype name="fahrradverleihstation">
					<env:property name="station" class="FahrradVerleihStation" />
					<env:property name="stationsname" class="String" />
					<env:property name="fahrradanzahl" class="Integer" />
					<env:property name="auslastung" class="Object"/>
				</env:objecttype>
				<env:objecttype name="station">
					<env:property name="stationsname" class="String" />
					<env:property name="typ" class="String" />
				</env:objecttype>
				<env:objecttype name="linie">
					<env:property name="winkel" class="IVector3" />
					<env:property name="laenge" class="Vector2Double" />
				</env:objecttype>
			</env:objecttypes>

			<env:perspectives>
				<env:perspective name="main" class="Perspective2D"	opengl="true" objectplacement="center">
					<env:drawable objecttype="station" height="1.0" width="1.0">
						<env:texturedrectangle imagepath="bilder/ubahn.png">
							<env:drawcondition>StartSimulationProzess.UBAHN.equals($object.typ)
							</env:drawcondition>
						</env:texturedrectangle>
						<env:texturedrectangle imagepath="bilder/sbahn.png">
							<env:drawcondition>StartSimulationProzess.SBAHN.equals($object.typ)
							</env:drawcondition>
						</env:texturedrectangle>
						<env:texturedrectangle imagepath="bilder/subahn.png">
							<env:drawcondition>StartSimulationProzess.SUBAHN.equals($object.typ)
							</env:drawcondition>
						</env:texturedrectangle>
						<!--<env:ellipse color="green" width="1.0" height="1.0"/> -->
					</env:drawable>

					<env:drawable objecttype="linie" height="1.0" width="1.0">
						<env:rectangle rotation="winkel" size="laenge" />
					</env:drawable>
					<env:drawable objecttype="fahrradverleihstation"
						height="0.8" width="0.8">
						<env:property name="auslastungC1" dynamic="true" class="Color">$object.getProperty("auslastung")</env:property>
						<env:ellipse color="auslastungC1" width="0.8" height="0.8" />
						
					</env:drawable>
				</env:perspective>
			</env:perspectives>

			<env:dataviews>
				<env:dataview name="view_all" class="GeneralDataView2D" />
			</env:dataviews>

			<env:spaceexecutor class="RoundBasedExecutor">
				<env:property name="space">$space</env:property>
			</env:spaceexecutor>
		</env:envspacetype>
	</spacetypes>

	<applications>
		<application name="Sim01">
			<spaces>
				<env:envspace name="simulationsspace" type="GeneralSimulation"
					width="100" height="100">
					<env:processes>
						<env:process type="init">
							<env:property name="eigenschaft">blub</env:property>
						</env:process>
					</env:processes>

 					<env:observers>
 						<env:observer name="world" dataview="view_all"
 							perspective="main" />
 					</env:observers>
				</env:envspace>
			</spaces>
		</application>
	</applications>


</applicationtype>


