<?xml version="1.0" ?><bpmn:definitions targetNamespace="http://www.activecomponents.org/bpmn/" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:jadex="http://www.activecomponents.org/bpmnextensions" xmlns:jadexvisual="http://www.activecomponents.org/bpmnvisualextensions" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <bpmn:extension>
    <jadex:modelname>S1_ProvidedServices</jadex:modelname>
    <jadex:package>jadex.bpmn.tutorial</jadex:package>
    <jadex:componentflags keepalive="false" monitoring="OFF" persistable="false" suspend="false" synchronous="false"/>
  </bpmn:extension>
  <bpmn:process id="h+5zbIZCq1kqcVgt" name="Pool">
    <bpmn:subProcess id="PDiITEFBW/u0FejX" name="Service B" triggeredByEvent="true">
      <bpmn:startEvent id="AWoEEebCXTss6X2s">
        <bpmn:outgoing>B8NvyQ3DpJBHbika</bpmn:outgoing>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="out" name="param0" type="int"/>
          <jadex:parameter direction="out" name="param1" type="int"/>
          <jadex:property name="iface">jadex.bpmn.tutorial.IBService.class</jadex:property>
          <jadex:property name="method">&quot;IFuture&lt;Integer&gt; add(int, int)&quot;</jadex:property>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:startEvent>
      <bpmn:task id="EIIUyDRP37T+GbVt" name="Method 1">
        <bpmn:incoming>B8NvyQ3DpJBHbika</bpmn:incoming>
        <bpmn:outgoing>dK03HWtXwwUegxHB</bpmn:outgoing>
        <bpmn:extensionElements>
          <jadex:class>jadex.bpmn.runtime.task.PrintTask</jadex:class>
          <jadex:parameter direction="inout" name="param0" type="java.lang.Integer"/>
          <jadex:parameter direction="inout" name="param1" type="java.lang.Integer"/>
          <jadex:parameter direction="in" name="text" type="java.lang.String">&quot;Service B - method 1: &quot;+param0+&quot; &quot;+param1</jadex:parameter>
        </bpmn:extensionElements>
      </bpmn:task>
      <bpmn:task id="SZYm7jv3Bit8uZxc" name="Method 2">
        <bpmn:incoming>gkpmA0Jeo+713iXM</bpmn:incoming>
        <bpmn:outgoing>hCmn6earoHTmDtA6</bpmn:outgoing>
        <bpmn:extensionElements>
          <jadex:class>jadex.bpmn.runtime.task.PrintTask</jadex:class>
          <jadex:parameter direction="in" name="text" type="java.lang.String">&quot;Service B - method 2: &quot;+param0+&quot; &quot;+param1</jadex:parameter>
        </bpmn:extensionElements>
      </bpmn:task>
      <bpmn:startEvent id="8t+uPx2Ybl6pQUAV">
        <bpmn:outgoing>gkpmA0Jeo+713iXM</bpmn:outgoing>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="out" name="param0" type="int"/>
          <jadex:parameter direction="out" name="param1" type="int"/>
          <jadex:property name="iface">jadex.bpmn.tutorial.IBService.class</jadex:property>
          <jadex:property name="method">&quot;IFuture&lt;Integer&gt; sub(int, int)&quot;</jadex:property>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:startEvent>
      <bpmn:endEvent id="dXojUkOKANVBrm25">
        <bpmn:incoming>dK03HWtXwwUegxHB</bpmn:incoming>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="inout" name="returnparam" type="java.lang.Object"/>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:endEvent>
      <bpmn:endEvent id="LxP3XYiJRbz8g0MS">
        <bpmn:incoming>hCmn6earoHTmDtA6</bpmn:incoming>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="inout" name="returnparam" type="java.lang.Object"/>
          <jadex:property name="returnparam">param0-param1</jadex:property>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:endEvent>
      <bpmn:startEvent id="sZlEH92/9t0EQDRU">
        <bpmn:outgoing>RSKdQT8P+R46kId0</bpmn:outgoing>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:property name="iface">jadex.bpmn.tutorial.IBService.class</jadex:property>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
          <jadex:property name="method">&quot;IIntermediateFuture&lt;Integer&gt; count()&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:startEvent>
      <bpmn:task id="/09zsgGkEnkWC1wR" name="Method 3">
        <bpmn:incoming>RSKdQT8P+R46kId0</bpmn:incoming>
        <bpmn:incoming>MgwEUOGUo3I7MySH</bpmn:incoming>
        <bpmn:outgoing>DEvMaqZuasVEhiJO</bpmn:outgoing>
        <bpmn:extensionElements>
          <jadex:class>jadex.bpmn.runtime.task.PrintTask</jadex:class>
          <jadex:parameter direction="inout" name="cnt" type="int">0</jadex:parameter>
          <jadex:parameter direction="in" name="text1" type="java.lang.String">&quot;Service C - method 3: &quot;+cnt</jadex:parameter>
        </bpmn:extensionElements>
      </bpmn:task>
      <bpmn:intermediateThrowEvent id="CM2YXVq9jNbjX/vx">
        <bpmn:incoming>DEvMaqZuasVEhiJO</bpmn:incoming>
        <bpmn:outgoing>UUUVMs4gePDwbEFg</bpmn:outgoing>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="inout" name="returnparam" type="java.lang.Object"/>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:intermediateThrowEvent>
      <bpmn:exclusiveGateway id="uTFFqJRT/Vrj2AjE">
        <bpmn:incoming>UUUVMs4gePDwbEFg</bpmn:incoming>
        <bpmn:outgoing>FlWhRnxfsvQYwbjo</bpmn:outgoing>
        <bpmn:outgoing>MgwEUOGUo3I7MySH</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:endEvent id="vAjLBNSzcVQPU9W8">
        <bpmn:incoming>FlWhRnxfsvQYwbjo</bpmn:incoming>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="inout" name="returnparam" type="java.lang.Object"/>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:endEvent>
    </bpmn:subProcess>
    <bpmn:subProcess id="BLhKFbd+HLIvEnKU" name="Service A" triggeredByEvent="true">
      <bpmn:startEvent id="M0ETx6cYjmHk/hoH">
        <bpmn:outgoing>4DdtrGFKVof6uS49</bpmn:outgoing>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:property name="method">&quot;IFuture&lt;String&gt; test()&quot;</jadex:property>
          <jadex:property name="iface">jadex.bpmn.testcases.IAService.class</jadex:property>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:startEvent>
      <bpmn:task id="HSjAxDflhY3JYSiV" name="Method 1">
        <bpmn:incoming>4DdtrGFKVof6uS49</bpmn:incoming>
        <bpmn:outgoing>uFWlOF7UPObuF9uy</bpmn:outgoing>
        <bpmn:extensionElements>
          <jadex:class>jadex.bpmn.runtime.task.PrintTask</jadex:class>
          <jadex:parameter direction="inout" name="text" type="java.lang.String">&quot;Service A - method 1&quot;</jadex:parameter>
        </bpmn:extensionElements>
      </bpmn:task>
      <bpmn:endEvent id="m5vdqhI00xqP2LF7">
        <bpmn:incoming>uFWlOF7UPObuF9uy</bpmn:incoming>
        <bpmn:messageEventDefinition/>
        <bpmn:extensionElements>
          <jadex:parameter direction="inout" name="returnparam" type="java.lang.Object"/>
          <jadex:property name="returnparam">text</jadex:property>
          <jadex:property name="isService">&quot;true&quot;</jadex:property>
        </bpmn:extensionElements>
      </bpmn:endEvent>
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="B8NvyQ3DpJBHbika" sourceRef="AWoEEebCXTss6X2s" targetRef="EIIUyDRP37T+GbVt">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="dK03HWtXwwUegxHB" sourceRef="EIIUyDRP37T+GbVt" targetRef="dXojUkOKANVBrm25">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="hCmn6earoHTmDtA6" sourceRef="SZYm7jv3Bit8uZxc" targetRef="LxP3XYiJRbz8g0MS">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="gkpmA0Jeo+713iXM" sourceRef="8t+uPx2Ybl6pQUAV" targetRef="SZYm7jv3Bit8uZxc">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="RSKdQT8P+R46kId0" sourceRef="sZlEH92/9t0EQDRU" targetRef="/09zsgGkEnkWC1wR">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="DEvMaqZuasVEhiJO" sourceRef="/09zsgGkEnkWC1wR" targetRef="CM2YXVq9jNbjX/vx">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="UUUVMs4gePDwbEFg" sourceRef="CM2YXVq9jNbjX/vx" targetRef="uTFFqJRT/Vrj2AjE">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="FlWhRnxfsvQYwbjo" sourceRef="uTFFqJRT/Vrj2AjE" targetRef="vAjLBNSzcVQPU9W8">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="MgwEUOGUo3I7MySH" sourceRef="uTFFqJRT/Vrj2AjE" targetRef="/09zsgGkEnkWC1wR">
      <bpmn:conditionExpression>cnt&lt;2\n</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="4DdtrGFKVof6uS49" sourceRef="M0ETx6cYjmHk/hoH" targetRef="HSjAxDflhY3JYSiV">
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="uFWlOF7UPObuF9uy" sourceRef="HSjAxDflhY3JYSiV" targetRef="m5vdqhI00xqP2LF7">
    </bpmn:sequenceFlow>
    <bpmn:extensionElements>
      <jadex:dataFlow id="ubRYMDACim4brswJ" sourceParam="param0" sourceRef="AWoEEebCXTss6X2s" targetParam="param0" targetRef="EIIUyDRP37T+GbVt"/>
      <jadex:dataFlow id="HUa2iQ6m39wAe1jb" sourceParam="param1" sourceRef="AWoEEebCXTss6X2s" targetParam="param1" targetRef="EIIUyDRP37T+GbVt"/>
      <jadex:dataFlow id="CD5FbioCR+Q1fJXy" sourceParam="param0" sourceRef="EIIUyDRP37T+GbVt" targetParam="returnparam" targetRef="dXojUkOKANVBrm25">
        <jadex:dataFlowValueMapping>param0+param1</jadex:dataFlowValueMapping>
      </jadex:dataFlow>
      <jadex:dataFlow id="kbJosNYbUy5svUwk" sourceParam="cnt" sourceRef="/09zsgGkEnkWC1wR" targetParam="returnparam" targetRef="CM2YXVq9jNbjX/vx"/>
      <jadex:dataFlow id="yFWtiNqxE549bNnW" sourceParam="cnt" sourceRef="/09zsgGkEnkWC1wR" targetParam="cnt" targetRef="/09zsgGkEnkWC1wR">
        <jadex:dataFlowValueMapping>cnt+1</jadex:dataFlowValueMapping>
      </jadex:dataFlow>
      <jadex:dataFlow id="ccNv2FkqQgUnxFfC" sourceParam="text" sourceRef="HSjAxDflhY3JYSiV" targetParam="returnparam" targetRef="m5vdqhI00xqP2LF7"/>
    </bpmn:extensionElements>
  </bpmn:process>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane>
      <bpmndi:BPMNShape bpmnElement="h+5zbIZCq1kqcVgt">
        <dc:Bounds height="750.0" width="1200.0" x="50.0" y="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="PDiITEFBW/u0FejX" isExpanded="true">
        <dc:Bounds height="460.0" width="650.0" x="140.0" y="270.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="AWoEEebCXTss6X2s">
        <dc:Bounds height="40.0" width="40.0" x="60.0" y="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="EIIUyDRP37T+GbVt">
        <dc:Bounds height="100.0" width="160.0" x="150.0" y="20.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="SZYm7jv3Bit8uZxc">
        <dc:Bounds height="100.0" width="160.0" x="150.0" y="160.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="8t+uPx2Ybl6pQUAV">
        <dc:Bounds height="40.0" width="40.0" x="60.0" y="190.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="dXojUkOKANVBrm25">
        <dc:Bounds height="40.0" width="40.0" x="360.0" y="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="LxP3XYiJRbz8g0MS">
        <dc:Bounds height="40.0" width="40.0" x="360.0" y="190.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sZlEH92/9t0EQDRU">
        <dc:Bounds height="40.0" width="40.0" x="60.0" y="340.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="/09zsgGkEnkWC1wR">
        <dc:Bounds height="100.0" width="160.0" x="150.0" y="310.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="CM2YXVq9jNbjX/vx">
        <dc:Bounds height="40.0" width="40.0" x="360.0" y="340.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="uTFFqJRT/Vrj2AjE">
        <dc:Bounds height="60.0" width="60.0" x="460.0" y="330.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="vAjLBNSzcVQPU9W8">
        <dc:Bounds height="40.0" width="40.0" x="560.0" y="340.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="BLhKFbd+HLIvEnKU" isExpanded="true">
        <dc:Bounds height="200.0" width="480.0" x="140.0" y="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="M0ETx6cYjmHk/hoH">
        <dc:Bounds height="40.0" width="40.0" x="60.0" y="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="HSjAxDflhY3JYSiV">
        <dc:Bounds height="100.0" width="160.0" x="150.0" y="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="m5vdqhI00xqP2LF7">
        <dc:Bounds height="40.0" width="40.0" x="360.0" y="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="B8NvyQ3DpJBHbika">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="gkpmA0Jeo+713iXM">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="dK03HWtXwwUegxHB">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="hCmn6earoHTmDtA6">
      </bpmndi:BPMNEdge>
      <di:Edge jadexElement="ubRYMDACim4brswJ" type="data">
      </di:Edge>
      <di:Edge jadexElement="HUa2iQ6m39wAe1jb" type="data">
      </di:Edge>
      <di:Edge jadexElement="CD5FbioCR+Q1fJXy" type="data">
      </di:Edge>
      <bpmndi:BPMNEdge bpmnElement="RSKdQT8P+R46kId0">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="DEvMaqZuasVEhiJO">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="UUUVMs4gePDwbEFg">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="FlWhRnxfsvQYwbjo">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="MgwEUOGUo3I7MySH">
      </bpmndi:BPMNEdge>
      <di:Edge jadexElement="kbJosNYbUy5svUwk" type="data">
      </di:Edge>
      <di:Edge jadexElement="yFWtiNqxE549bNnW" type="data">
      </di:Edge>
      <bpmndi:BPMNEdge bpmnElement="4DdtrGFKVof6uS49">
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="uFWlOF7UPObuF9uy">
      </bpmndi:BPMNEdge>
      <di:Edge jadexElement="ccNv2FkqQgUnxFfC" type="data">
      </di:Edge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
